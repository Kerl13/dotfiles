#!/bin/sh

PDF_VIEWER='mupdf -C FFFAF0'

if [ "$#" = 0 ]; then
  nb_candidates="$(find . -maxdepth 1 -type f -name \*.pdf | wc -l)"
  if [ "$nb_candidates" = 0 ]; then
    echo "no pdf file found"
    exit 1
  elif [ "$nb_candidates" = 1 ]; then
    $PDF_VIEWER ./*.pdf >/dev/null &
    disown
  else
    echo "too many pdf files"
    exit 1
  fi
else
  $PDF_VIEWER "$@" >/dev/null &
  disown
fi
